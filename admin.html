<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - Carrera Go</title>
    <link rel="stylesheet" href="style.css">
</head>
<body class="admin-page" style="background: #f4f4f4; color: #333; font-family: sans-serif;">
    <div class="container" style="max-width: 800px; margin: 0 auto; padding: 20px;">
        
        <div id="login-block" style="background: white; padding: 30px; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
            <h2 style="text-align: center;">–í—Ö—ñ–¥</h2>
            <input type="text" id="user" placeholder="–õ–æ–≥—ñ–Ω (admin)" style="width: 100%; margin-bottom: 10px; padding: 10px;">
            <input type="password" id="pass" placeholder="–ü–∞—Ä–æ–ª—å (admin)" style="width: 100%; margin-bottom: 15px; padding: 10px;">
            <button onclick="checkAuth()" style="width: 100%; padding: 12px; background: #e30613; color: white; border: none; border-radius: 5px; cursor: pointer;">–£–í–Ü–ô–¢–ò</button>
        </div>

        <div id="admin-content" style="display:none; background: white; padding: 25px; border-radius: 10px;">
            <h1 style="border-bottom: 3px solid #e30613; padding-bottom: 10px;">–ü–∞–Ω–µ–ª—å –ö–µ—Ä—É–≤–∞–Ω–Ω—è</h1>

            <div style="background: #fff3cd; padding: 15px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #ffeeba;">
                <h3 style="margin-top: 0;">üë§ –î–æ–≤—ñ–¥–Ω–∏–∫ –ü—ñ–ª–æ—Ç—ñ–≤</h3>
                <div style="display: flex; gap: 10px; margin-bottom: 10px;">
                    <input type="text" id="dirPilotName" placeholder="–Ü–º'—è –ø—ñ–ª–æ—Ç–∞" style="flex: 2; padding: 8px;">
                    <input type="text" id="dirPilotImg" placeholder="pilot1.jpg" style="flex: 1; padding: 8px;">
                    <button onclick="addPilotToDirectory()" style="background: #856404; color: white; border: none; padding: 8px 15px; border-radius: 4px;">–î–æ–¥–∞—Ç–∏</button>
                </div>
                <div id="directory-list" style="font-size: 0.85rem; background: rgba(255,255,255,0.5); padding: 5px;"></div>
            </div>

            <div style="background: #e9ecef; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                <h3 style="margin: 0 0 10px 0;">üì¶ –†–æ–±–æ—Ç–∞ –∑ –¥–∞–Ω–∏–º–∏</h3>
                <button onclick="exportDatabase()" style="padding: 8px 15px; background: #007bff; color: white; border: none; border-radius: 4px;">üíæ –°–∫–∞—á–∞—Ç–∏ data.json</button>
                <button onclick="document.getElementById('importFile').click()" style="padding: 8px 15px; background: #ffc107; border: none; border-radius: 4px;">üìÇ –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏</button>
                <input type="file" id="importFile" style="display:none" onchange="importDatabase(event)" accept=".json">
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                    <h3>1. –ù–æ–≤–∏–π –µ—Ç–∞–ø</h3>
                    <input type="text" id="newTrackName" placeholder="–ù–∞–∑–≤–∞ —Ç—Ä–∞—Å–∏" style="width: 100%; padding: 8px; margin-bottom: 5px;">
                    <input type="text" id="newTrackImg" placeholder="track.jpg" style="width: 100%; padding: 8px; margin-bottom: 10px;">
                    <button onclick="createNewStage()" style="width: 100%; padding: 10px; background: #28a745; color: white; border: none; border-radius: 4px;">+ –°—Ç–≤–æ—Ä–∏—Ç–∏</button>
                </div>
                <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                    <h3>2. –û–±–µ—Ä—ñ—Ç—å –µ—Ç–∞–ø</h3>
                    <select id="stageSelector" onchange="handleStageChange()" style="width: 100%; padding: 10px; margin-bottom: 10px;"></select>
                </div>
            </div>

            <div id="active-stage-controls" style="display: none; border-top: 3px solid #e30613; padding-top: 15px;">
                <h2 id="current-st-name" style="color: #e30613;"></h2>
                
                <div style="background: #eef; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                    <h4>–î–æ–¥–∞—Ç–∏ –ø—ñ–ª–æ—Ç–∞ –¥–æ –µ—Ç–∞–ø—É</h4>
                    <div style="display: flex; gap: 10px;">
                        <select id="directorySelect" style="flex: 2; padding: 8px;"></select>
                        <button onclick="addPilotToStageFromDir()" style="flex: 1; background: #004085; color: white; border: none; border-radius: 4px;">–î–æ–¥–∞—Ç–∏</button>
                    </div>
                </div>

                <h3>3. –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –∑–∞—ó–∑–¥—É</h3>
                <div id="pilots-list-for-results"></div>
                <button onclick="saveRace()" style="width: 100%; padding: 15px; background: #e30613; color: white; border: none; border-radius: 10px; margin-top: 20px; font-weight: bold;">–ó–ë–ï–†–ï–ì–¢–ò –ó–ê–á–ó–î</button>

                <div style="background: #f1f3f5; padding: 15px; border-radius: 8px; margin-top: 25px;">
                    <h4>üìπ –í—ñ–¥–µ–æ-–º–æ–º–µ–Ω—Ç–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: crash.mp4)</h4>
                    <div style="display: flex; gap: 10px;">
                        <input type="text" id="videoUrl" placeholder="–Ω–∞–∑–≤–∞_–≤—ñ–¥–µ–æ.mp4" style="flex: 2; padding: 8px;">
                        <button onclick="addVideoToStage()" style="flex: 1; background: #6c757d; color: white; border: none; border-radius: 4px;">–î–æ–¥–∞—Ç–∏</button>
                    </div>
                    <div id="admin-video-list" style="margin-top:10px;"></div>
                </div>
            </div>

            <div style="margin-top: 30px; display: flex; gap: 10px;">
                <button onclick="location.href='index.html'" style="flex: 1; padding: 10px; background: #333; color: white; border: none; border-radius: 4px;">–ù–∞ –≥–æ–ª–æ–≤–Ω—É</button>
                <button onclick="clearAllData()" style="flex: 1; padding: 10px; background: #000; color: white; border: none; border-radius: 4px;">–°–¢–ï–†–¢–ò –í–°–ï</button>
            </div>
        </div>
    </div>
    <script src="script.js"></script>
</body>
</html>