<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - Carrera Go</title>
    <link rel="stylesheet" href="style.css">
</head>
<body class="admin-page" style="background: #f4f4f4; color: #333; font-family: sans-serif;">
    <div class="container" style="max-width: 800px; margin: 0 auto; padding: 20px;">
        
        <div id="login-block" style="background: white; padding: 30px; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
            <h2 style="text-align: center;">–í—Ö—ñ–¥</h2>
            <input type="text" id="user" placeholder="–õ–æ–≥—ñ–Ω (admin)" style="width: 100%; margin-bottom: 10px; padding: 10px;">
            <input type="password" id="pass" placeholder="–ü–∞—Ä–æ–ª—å (admin)" style="width: 100%; margin-bottom: 15px; padding: 10px;">
            <button onclick="checkAuth()" style="width: 100%; padding: 12px; background: #e30613; color: white; border: none; border-radius: 5px; cursor: pointer;">–£–í–Ü–ô–¢–ò</button>
        </div>

        <div id="admin-content" style="display:none; background: white; padding: 25px; border-radius: 10px;">
            <h1>–ü–∞–Ω–µ–ª—å –ö–µ—Ä—É–≤–∞–Ω–Ω—è</h1>

            <div style="background: #e9ecef; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                <h3>üì¶ –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö</h3>
                <button onclick="exportDatabase()" style="padding: 8px 15px; background: #007bff; color: white; border: none; border-radius: 4px;">üíæ –°–∫–∞—á–∞—Ç–∏ data.json</button>
                <button onclick="document.getElementById('importFile').click()" style="padding: 8px 15px; background: #ffc107; border: none; border-radius: 4px;">üìÇ –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏</button>
                <input type="file" id="importFile" style="display:none" onchange="importDatabase(event)" accept=".json">
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                    <h3>1. –ù–æ–≤–∏–π –µ—Ç–∞–ø</h3>
                    <input type="text" id="newTrackName" placeholder="–ù–∞–∑–≤–∞ —Ç—Ä–∞—Å–∏" style="width: 100%; padding: 8px; margin-bottom: 5px;">
                    <input type="text" id="newTrackImg" placeholder="track.jpg" style="width: 100%; padding: 8px; margin-bottom: 10px;">
                    <button onclick="createNewStage()" style="width: 100%; padding: 10px; background: #28a745; color: white; border: none; border-radius: 4px;">+ –°—Ç–≤–æ—Ä–∏—Ç–∏</button>
                </div>
                <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                    <h3>2. –û–±–µ—Ä—ñ—Ç—å –µ—Ç–∞–ø</h3>
                    <select id="stageSelector" onchange="handleStageChange()" style="width: 100%; padding: 10px;"></select>
                </div>
            </div>

            <div id="active-stage-controls" style="display: none;">
                <h2 id="current-st-name" style="color: #e30613;"></h2>
                
                <h3>3. –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –∑–∞—ó–∑–¥—É</h3>
                <div id="pilots-list-for-results"></div>
                <button onclick="saveRace()" style="width: 100%; padding: 15px; background: #e30613; color: white; border: none; border-radius: 10px; margin-top: 20px;">–ó–ë–ï–†–ï–ì–¢–ò –ó–ê–á–ó–î</button>

                <div style="background: #f1f3f5; padding: 15px; border-radius: 8px; margin-top: 25px;">
                    <h4>üìπ –î–æ–¥–∞—Ç–∏ –≤—ñ–¥–µ–æ (–Ω–∞–ø—Ä: IMG_2923.mp4)</h4>
                    <div style="display: flex; gap: 10px;">
                        <input type="text" id="videoUrl" placeholder="–Ω–∞–∑–≤–∞_—Ñ–∞–π–ª—É.mp4" style="flex: 2; padding: 10px;">
                        <button onclick="addVideoToStage()" style="flex: 1; background: #6c757d; color: white; border: none; border-radius: 4px;">–î–æ–¥–∞—Ç–∏</button>
                    </div>
                    <div id="admin-video-list" style="margin-top:10px;"></div>
                </div>
            </div>

            <div style="margin-top: 30px; display: flex; gap: 10px;">
                <button onclick="location.href='index.html'" style="flex: 1; padding: 10px; background: #333; color: white; border: none; border-radius: 4px;">–ù–∞ –≥–æ–ª–æ–≤–Ω—É</button>
            </div>
        </div>
    </div>
    <script src="script.js"></script>
</body>
</html>